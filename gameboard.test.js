const GameBoard = require('./src/gameboard');
const Ship = require('./src/ships');

test('create board', () => {
  let testBoard = GameBoard();
  expect(testBoard.displayBoard()).toEqual(
    expect.arrayContaining([
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
    ])
  );
});

test('hit target', () => {
  let testBoard = GameBoard();
  expect(testBoard.receiveAttack(3, 5)).toEqual(
    expect.arrayContaining([
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], ['O'], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
    ])
  );
});

// let ship = new Ship(2);
// let ships = [ship];
// [[HIT, HIT][(MISS, null)]];

test('hit ship', () => {
  let testBoard = GameBoard();
  testBoard.receiveAttack(0, 0);

  expect(testBoard.displayBoard()).toEqual(
    expect.arrayContaining([
      [[destroyer, 'X'], [destroyer], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
      [[], [], [], [], [], [], [], [], [], []],
    ])
  );
});
